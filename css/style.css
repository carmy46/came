:root{
  --bg:#0b1220;
  --card:#0f1a2e;
  --text:#e8eefc;
  --muted:#9fb0d0;
  --primary:#6ea8fe;
  --danger:#ff6b6b;
  --radius:18px;

  /* Variabili usate anche nelle pagine dashboard */
  --border: rgba(255, 255, 255, 0.12);
  --ok: #24d18f;
  --warn: #ffb020;
}

*{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;}
body{margin:0;background:radial-gradient(1200px 700px at 20% 10%, #16284a 0%, var(--bg) 50%);color:var(--text);}

/* LOGIN */
.auth-page{min-height:100vh;display:grid;place-items:center;padding:20px;}
.auth-card{
  width:min(420px, 100%);
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border:1px solid rgba(255,255,255,.10);
  border-radius:var(--radius);
  padding:22px;
  box-shadow:0 20px 60px rgba(0,0,0,.45);
  backdrop-filter: blur(10px);
}
h1{margin:0 0 6px;font-size:28px;letter-spacing:.5px;}
.muted{margin:0 0 18px;color:var(--muted);font-size:14px;}
.label{display:block;margin:12px 0 6px;color:var(--muted);font-size:13px;}
.input{
  width:100%;padding:12px 12px;border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(10,18,34,.55);color:var(--text);
  outline:none;
}
.input:focus{border-color:rgba(110,168,254,.6);box-shadow:0 0 0 4px rgba(110,168,254,.15);}
.auth-card .btn{
  width:100%;margin-top:14px;padding:12px 14px;border-radius:14px;
  border:0;background:linear-gradient(90deg, var(--primary), #8bc6ff);
  color:#081225;font-weight:700;cursor:pointer;
}
.auth-card .btn:hover{filter:brightness(1.05);}
.msg{margin-top:12px;font-size:13px;color:var(--muted);min-height:18px;}
.msg.error{color:var(--danger);}

/* ADMIN */
.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:14px 18px;
  border-bottom:1px solid rgba(255,255,255,.10);
  background:rgba(10,18,34,.35);
  backdrop-filter: blur(10px);
  position: sticky;
  top: 0;
  z-index: 30;
}
.topbar h2{margin:0;font-size:16px;letter-spacing:.2px;}
.topbar h2{cursor:pointer;}
.topbar-left{display:flex; flex-direction:column; gap:2px;}
.topbar-sub{font-size:12px; color:var(--muted); line-height:1.1;}
.topbar-actions{display:flex; gap:10px; align-items:center;}

/* Bottone generico (usato in admin) */
.btn{
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.06);
  color:var(--text);
  cursor:pointer;
  min-height:44px;
}
.btn:hover{filter:brightness(1.05);}
.btn.small{padding:8px 10px;font-size:13px;}

.admin-layout{
  display:grid;
  grid-template-columns: 220px 1fr;
  gap:16px;
  padding:16px;
}
.sidebar{
  background:rgba(10,18,34,.35);
  border:1px solid rgba(255,255,255,.10);
  border-radius:var(--radius);
  padding:10px;
}
.nav-btn{
  width:100%;
  text-align:left;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid transparent;
  background:transparent;
  color:var(--muted);
  cursor:pointer;
}
.nav-btn:hover{
  background:rgba(255,255,255,.06);
  color:var(--text);
}
.nav-btn.active{
  background:rgba(110,168,254,.14);
  border-color:rgba(110,168,254,.35);
  color:var(--text);
}

.content{
  background:rgba(10,18,34,.35);
  border:1px solid rgba(255,255,255,.10);
  border-radius:var(--radius);
  padding:16px;
}
.content h3{margin:0 0 10px;font-size:15px;}
.view{display:none;}
.view.active{display:block;}

@media (max-width: 860px){
  .admin-layout{grid-template-columns:1fr;}
}

body.page-employee {
  background:
    radial-gradient(1200px 600px at 20% 10%, rgba(79, 124, 255, 0.25), transparent 60%),
    radial-gradient(900px 500px at 90% 80%, rgba(0, 212, 255, 0.18), transparent 60%),
    var(--bg);
}

/* Dipendente: topbar più opaca (su mobile evita “trasparenze” che fanno intravedere contenuti sotto) */
body.page-employee .topbar{
  background: rgba(10,18,34,.92);
  border-bottom: 1px solid rgba(255,255,255,.10);
}

/* Dipendente: più colore (accenti) */
body.page-employee{
  --emp-accent: #6ea8fe;
  --emp-accent2: #22caff;
  --emp-ok: #24d18f;
  --emp-warn: #ffb020;
}

body.page-employee .btn.primary{
  background: linear-gradient(90deg, rgba(110,168,254,.28), rgba(34,202,255,.18));
  border-color: rgba(110,168,254,.55);
}

body.page-employee .pill.ok{
  background: rgba(36, 209, 143, 0.16);
  border-color: rgba(36, 209, 143, 0.35);
}

body.page-employee .pill{
  background: rgba(110,168,254,.12);
  border-color: rgba(110,168,254,.30);
}

/* Archivio (dipendente): contenitore più "pieno" su mobile per evitare effetto trasparenza/precedente */
body.page-employee #view-archive .archive-shell{
  background:
    radial-gradient(800px 320px at 10% 0%, rgba(110,168,254,.14), transparent 60%),
    radial-gradient(700px 320px at 95% 10%, rgba(34,202,255,.12), transparent 60%),
    rgba(10,18,34,.62);
  border: 1px solid rgba(110,168,254,.18);
  border-radius: 18px;
  padding: 12px;
}

body.page-employee #view-archive .archive-section-head{
  background:
    linear-gradient(180deg, rgba(10,18,34,.92), rgba(10,18,34,.78));
  border-radius: 14px;
  padding: 10px 10px 12px;
  border: 1px solid rgba(110,168,254,.18);
  box-shadow: 0 14px 40px rgba(0,0,0,.25);
}

/* Home cards: più colore */
body.page-employee .home-card{
  border-color: rgba(110,168,254,.20);
  background:
    radial-gradient(600px 260px at 10% 0%, rgba(110,168,254,.16), transparent 60%),
    radial-gradient(520px 260px at 95% 10%, rgba(34,202,255,.12), transparent 60%),
    rgba(255,255,255,.03);
}

body.page-employee .home-icon{
  border-color: rgba(110,168,254,.25);
  background: linear-gradient(180deg, rgba(110,168,254,.16), rgba(255,255,255,.03));
  color: rgba(232,238,252,1);
}

body.page-employee .home-card-cta{
  border-color: rgba(110,168,254,.22);
  background: rgba(110,168,254,.08);
}

/* Toast più colorati */
body.page-employee .toast.ok{
  border-color: rgba(36, 209, 143, 0.45);
  background: rgba(36, 209, 143, 0.12);
}
body.page-employee .toast.error{
  border-color: rgba(255, 107, 107, 0.45);
  background: rgba(255, 107, 107, 0.12);
}

body.page-admin {
  background:
    radial-gradient(1200px 600px at 20% 10%, rgba(79, 124, 255, 0.25), transparent 60%),
    radial-gradient(900px 500px at 90% 80%, rgba(255, 176, 32, 0.14), transparent 60%),
    var(--bg);
}

.wrap {
  width: min(820px, calc(100% - 32px));
}

.wrap.narrow {
  width: min(520px, calc(100% - 32px));
}

.card {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.02));
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 22px;
  box-shadow: 0 18px 60px rgba(0, 0, 0, 0.35);
  backdrop-filter: blur(8px);
}

h1 {
  margin: 0 0 6px;
  font-size: 22px;
  letter-spacing: 0.2px;
}

p {
  margin: 0 0 16px;
  color: var(--muted);
  line-height: 1.45;
}

label {
  display: block;
  font-size: 12px;
  color: var(--muted);
  margin: 12px 0 6px;
}

input,
select {
  width: 100%;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: rgba(17, 26, 46, 0.75);
  color: var(--text);
  outline: none;
}

input:focus,
select:focus {
  border-color: rgba(79, 124, 255, 0.75);
  box-shadow: 0 0 0 3px rgba(79, 124, 255, 0.18);
}

.row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.actions {
  display: flex;
  gap: 10px;
  margin-top: 16px;
  flex-wrap: wrap;
}

.btn {
  appearance: none;
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.06);
  color: var(--text);
  padding: 10px 12px;
  border-radius: 12px;
  cursor: pointer;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-weight: 600;
}

.btn.primary {
  background: rgba(79, 124, 255, 0.22);
  border-color: rgba(79, 124, 255, 0.45);
}

.btn:hover {
  filter: brightness(1.05);
}

.hint {
  margin-top: 14px;
  font-size: 12px;
  color: var(--muted);
}

.hint a {
  color: var(--text);
}

/* Pagine dashboard */
header.page-head {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.sub {
  margin: 6px 0 0;
  color: var(--muted);
}

.pill {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.06);
  color: var(--text);
  font-size: 12px;
  font-weight: 600;
}

.pill.ok {
  border-color: rgba(36, 209, 143, 0.35);
  background: rgba(36, 209, 143, 0.12);
}

.pill.warn {
  border-color: rgba(255, 176, 32, 0.35);
  background: rgba(255, 176, 32, 0.12);
}

.grid {
  display: grid;
  grid-template-columns: 1.2fr 0.8fr;
  gap: 14px;
  margin-top: 14px;
}

.grid.two {
  grid-template-columns: 1fr 1fr;
}

.panel {
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 14px;
  background: rgba(17, 26, 46, 0.55);
}

.panel h2 {
  margin: 0 0 8px;
  font-size: 14px;
  color: var(--text);
}

.panel p,
.panel li {
  color: var(--muted);
  line-height: 1.45;
}

ul {
  margin: 8px 0 0;
  padding-left: 18px;
}

@media (max-width: 860px) {
  .grid,
  .grid.two {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 520px) {
  .row {
    grid-template-columns: 1fr;
  }
}

/* CSS minimo per admin (override in fondo) */
.topbar{
  display:flex;justify-content:space-between;align-items:center;
  padding:14px 20px;border-bottom:1px solid rgba(255,255,255,.08);
}
.btn.small{padding:8px 12px;border-radius:10px;font-size:13px;}

.admin-layout{
  display:grid;
  grid-template-columns:240px 1fr;
  min-height:calc(100vh - 64px);
}

.sidebar{
  border-right:1px solid rgba(255,255,255,.08);
  padding:14px;
  display:flex;
  flex-direction:column;
  gap:8px;
}

.nav-btn{
  background:none;border:1px solid rgba(255,255,255,.12);
  color:var(--text);padding:10px 12px;border-radius:12px;
  cursor:pointer;text-align:left;
}
.nav-btn.active{background:rgba(110,168,254,.15);border-color:var(--primary);}

.content{padding:18px;}
.view{display:none;}
.view.active{display:block;}

.card{
  border:1px solid rgba(255,255,255,.1);
  border-radius:14px;
  padding:12px;
  margin-bottom:10px;
  background:rgba(255,255,255,.04);
}

/* EMPLOYEE (mobile) */
.mobile-shell{
  padding:16px;
  max-width: 720px;
  margin: 0 auto;
}

.tabs{
  display:flex;
  gap:10px;
  padding:10px 0 14px;
}
.tab{
  flex:1;
  background:none;
  border:1px solid rgba(255,255,255,.12);
  color:var(--text);
  padding:10px 12px;
  border-radius:12px;
  cursor:pointer;
}
.tab.active{
  background:rgba(110,168,254,.15);
  border-color:var(--primary);
}

.form-card{
  border:1px solid rgba(255,255,255,.10);
  border-radius:var(--radius);
  padding:14px;
  background:rgba(255,255,255,.04);
}

.grid2{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
}

@media (max-width: 520px){
  .grid2{grid-template-columns:1fr;}
}

/* Dipendente mobile-first (override in fondo) */
.mobile-shell{padding:16px;max-width:520px;margin:0 auto;}

.tabs{
  display:flex;
  gap:10px;
  margin:12px 0 14px;
  overflow-x:auto;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 6px;
  position: sticky;
  top: 72px;
  z-index: 25;
  background: rgba(11, 18, 32, 0.65);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(255,255,255,.06);
}
.tab{
  flex: 0 0 auto;
  min-width: 120px;
  padding:10px 12px;border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.03);
  color:var(--text);cursor:pointer;
  min-height:44px;
  transition: transform .12s ease, background-color .12s ease, border-color .12s ease;
}
.tab.active{border-color:var(--primary);background:rgba(110,168,254,.15);}
.tab:active{transform: scale(.98);}

.form-card{
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.04);
  border-radius:18px;
  padding:14px;
}

.grid2{display:grid;grid-template-columns:1fr 1fr;gap:10px;}

.msg.ok{color:#69db7c;}

/* Archivio dipendente: filtri + stats */
.filters{
  display:flex;
  gap:12px;
  align-items:flex-end;
  justify-content:space-between;
  margin-bottom:12px;
}
.stats{
  display:flex;
  gap:14px;
}
.statValue{
  font-size:16px;
  font-weight:700;
  margin-top:4px;
}
@media (max-width: 520px){
  .filters{flex-direction:column;align-items:stretch;}
  .stats{justify-content:space-between;}
}

/* Archivio - layout nuovo (override in fondo) */
.filters{
  display:grid;
  gap:12px;
  padding:12px;
}

.stats{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
}

.stat{
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.03);
  border-radius:14px;
  padding:10px;
}

.statValue{
  font-size:18px;
  font-weight:800;
  margin-top:4px;
}

.dayCard{
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.04);
  border-radius:16px;
  padding:12px;
  margin:10px 0;
}

.dayHeader{
  display:flex;
  justify-content:space-between;
  align-items:baseline;
  gap:10px;
}

.dayHeader strong{font-size:15px;}
.dayTotal{font-weight:800;color:#8bc6ff;}

.rows{
  margin-top:8px;
  display:grid;
  gap:8px;
}

.rowItem{
  border:1px dashed rgba(255,255,255,.12);
  border-radius:14px;
  padding:10px;
  color:var(--text);
}

.rowItemHead{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:10px;
}

.rowActions{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  justify-content:flex-end;
}

.inline-editor{
  margin-top:10px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.03);
  border-radius:16px;
  padding:12px;
}

.inline-actions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}

.hours-rows{
  display:grid;
  gap:10px;
  margin-top:10px;
}

.hours-row{
  border:1px dashed rgba(255,255,255,.12);
  border-radius:16px;
  padding:12px;
  background:rgba(255,255,255,.03);
}

.hours-row-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  margin-bottom:8px;
}

.hours-row-title{
  font-weight:800;
}

.btn.danger{
  border-color: rgba(255,107,107,.35);
  background: rgba(255,107,107,.12);
  color: #ffd7d7;
}

.auto{
  position: relative;
}

.auto-menu{
  position: absolute;
  left: 0;
  right: 0;
  top: calc(100% + 6px);
  z-index: 60;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(11, 18, 32, 0.98);
  border-radius: 14px;
  box-shadow: 0 18px 50px rgba(0,0,0,.45);
  overflow: auto;
  max-height: 220px;
  padding: 6px;
}

.auto-item{
  width: 100%;
  text-align: left;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(255,255,255,.04);
  color: var(--text);
  border-radius: 12px;
  padding: 10px 10px;
  cursor: pointer;
  min-height: 44px;
}
.auto-item + .auto-item{ margin-top: 6px; }
.auto-item:active{ transform: scale(.99); }

.auto-empty{
  padding: 10px;
  color: var(--muted);
  font-size: 13px;
}

.timeRow{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
}

/* ============================= */
/* PRODOTTI - carrello veloce */
/* ============================= */
.product-cart{
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.03);
  border-radius:16px;
  padding:10px;
  display:grid;
  gap:10px;
  max-height: 52vh;
  overflow:auto;
}

.product-row{
  display:grid;
  grid-template-columns: 1fr 110px;
  gap:10px;
  align-items:center;
  border:1px dashed rgba(255,255,255,.12);
  border-radius:14px;
  padding:10px;
}

.product-name{
  font-weight:700;
}

.product-qty{
  text-align:center;
}

/* ============================= */
/* ARCHIVIO - navigazione a card */
/* ============================= */
.archive-cards{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap:10px;
  margin: 10px 0 12px;
}

.archive-card{
  text-align:left;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.03);
  color:var(--text);
  border-radius:16px;
  padding:12px;
  cursor:pointer;
}

.archive-card:hover{filter:brightness(1.05);}
.archive-card.active{
  border-color:rgba(110,168,254,.45);
  background:rgba(110,168,254,.14);
}

.archive-card-title{font-weight:800; font-size:14px;}
.archive-card-sub{color:var(--muted); font-size:12px; margin-top:4px;}
.archive-card-row{display:flex; align-items:center; justify-content:space-between; gap:10px;}

.badge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:4px 8px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  font-size:12px;
  font-weight:800;
  min-width: 44px;
}

.archive-section{display:none;}
.archive-section.active{display:block;}

@media (max-width: 520px){
  .archive-cards{grid-template-columns:1fr;}
}

/* Toolbar archivio */
.archive-wrap{width:min(1200px, calc(100% - 32px)); margin: 0 auto;}
.archive-shell{
  display:grid;
  grid-template-columns: 1fr;
  gap:16px;
  align-items:start;
}
.archive-main{min-width:0;}

.archive-topbar{
  display:grid;
  grid-template-columns: 360px 1fr;
  gap:16px;
  align-items:stretch;
}

.archive-nav{padding:14px;}
.archive-nav-title{font-weight:900; font-size:13px; color: var(--muted); margin-bottom:10px;}
.archive-nav .archive-cards{grid-template-columns:1fr; margin:0;}
.archive-nav .archive-card{
  padding:12px;
  border-radius:14px;
  background: rgba(255,255,255,.02);
  border:1px solid rgba(255,255,255,.10);
}
.archive-nav .archive-card.active{
  border-color: rgba(110,168,254,.45);
  background: rgba(110,168,254,.10);
}

/* sidebar "desktop" più comoda */
@media (min-width: 821px){
  .archive-topbar{
    position: sticky;
    top: 86px;
    z-index: 6;
  }
}

.archive-actions{margin-top:10px;}
.archive-toolbar{display:grid; gap:10px; margin-top:10px;}
@media (min-width: 760px){
  .archive-toolbar{grid-template-columns: 1fr auto; align-items:center;}
}

.archive-sections{min-width:0;}
.archive-section-head{
  display:flex;
  justify-content:space-between;
  align-items:baseline;
  gap:12px;
  margin: 6px 0 10px;
}
.archive-section-title{font-weight:900; font-size:15px;}
.archive-section-sub{font-size:12px;}
.archive-subfilters{margin: 6px 0 10px;}
.archive-h3{margin: 12px 0 8px; font-size:14px;}
.archive-divider{height:1px; background: rgba(255,255,255,.10); margin: 12px 0;}
.archive-mobile-shortcut{margin: 8px 0 10px;}

/* nascondi la shortcut su desktop */
@media (min-width: 821px){
  .archive-mobile-shortcut{display:none;}
}

@media (max-width: 820px){
  .archive-shell{grid-template-columns:1fr;}
  .archive-topbar{grid-template-columns:1fr;}
  .archive-nav .archive-cards{grid-template-columns:repeat(3, 1fr);}
}
@media (max-width: 520px){
  /* Smartphone: sezioni in orizzontale (stile app) */
  .archive-nav{overflow:hidden;}
  .archive-nav .archive-cards{
    display:flex;
    gap:10px;
    overflow-x:auto;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 6px;
    grid-template-columns: unset;
    scroll-snap-type: x mandatory;
  }
  .archive-nav .archive-card{
    flex: 0 0 auto;
    min-width: 170px;
    max-width: 82vw;
    scroll-snap-align: start;
  }
}

/* ============================= */
/* ARCHIVIO - look "software" su PC */
/* ============================= */
@media (min-width: 900px){
  /* palette archivio */
  .archive-shell{
    --panel: rgba(17, 26, 46, 0.62);
    --panel2: rgba(17, 26, 46, 0.44);
    --stroke: rgba(255,255,255,.10);
    --stroke2: rgba(255,255,255,.14);
    --shadow: 0 22px 70px rgba(0,0,0,.45);
  }

  /* su desktop non vogliamo il layout "mobile" stretto */
  .mobile-shell{
    max-width: 1400px;
  }

  .archive-wrap{
    width: 100%;
    margin: 0;
  }

  /* contenitore tipo "finestra" */
  .archive-shell{
    background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
    border: 1px solid var(--stroke);
    border-radius: 22px;
    overflow: hidden;
    min-height: calc(100vh - 140px);
    box-shadow: var(--shadow);
  }

  .archive-main{
    height: auto;
    overflow: visible;
    display: block;
    padding: 12px 12px 12px 0;
  }

  /* toolbar in alto (gestita da .archive-topbar) */
  #archiveFiltersCard.filters.card{
    margin: 0;
    border-radius: 18px;
    padding: 10px;
    background: var(--panel);
    box-shadow: 0 14px 50px rgba(0,0,0,.18);
    border-color: var(--stroke);
    position: static;
  }

  /* filtri più "stretti" (meno profondità) */
  .archive-main .filters.card .label{
    margin: 8px 0 4px;
    font-size: 12px;
  }
  .archive-main .filters.card .input{
    padding: 10px 12px;
    border-radius: 12px;
  }
  .archive-actions{
    margin-top: 8px;
    gap: 10px;
  }
  .archive-toolbar{
    margin-top: 8px;
    gap: 8px;
  }
  .archive-main .stats{
    gap: 10px;
  }
  .archive-main .stat{
    padding: 8px;
    border-radius: 12px;
  }
  .archive-main .statValue{
    font-size: 16px;
  }

  .archive-sections{
    overflow: visible;
    margin-top: 12px;
    padding: 12px;
    border-radius: 18px;
    border: 1px solid var(--stroke);
    background: var(--panel2);
  }

  .archive-section-head{
    position: sticky;
    top: calc(86px + 14px + 54px); /* topbar + padding + approx toolbar height */
    z-index: 2;
    padding: 8px 8px 10px;
    margin: -12px -12px 10px;
    background: rgba(17, 26, 46, 0.92);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(255,255,255,.08);
  }

  .archive-divider{
    background: rgba(255,255,255,.08);
  }

  /* menu laterale più "software" */
  .archive-nav{
    padding: 12px;
    background: var(--panel2);
    border: 1px solid var(--stroke);
  }
  .archive-nav-title{
    letter-spacing: .2px;
  }
  .archive-nav .archive-card{
    transition: background-color .12s ease, border-color .12s ease, transform .12s ease;
  }
  .archive-nav .archive-card:hover{
    transform: translateY(-1px);
  }
}

/* ============================= */
/* ARCHIVIO - miglioramenti generali (PC + mobile) */
/* ============================= */
.archive-card{
  position: relative;
  text-align:left;
  min-height: 78px;
}
.archive-card:focus-visible{
  outline: none;
  box-shadow: 0 0 0 4px rgba(110,168,254,.18);
  border-color: rgba(110,168,254,.55);
}
.archive-card.active::before{
  content:"";
  position:absolute;
  left:10px;
  top:12px;
  bottom:12px;
  width:4px;
  border-radius:999px;
  background: linear-gradient(180deg, rgba(110,168,254,.95), rgba(139,198,255,.75));
}
.archive-card.active{padding-left:22px;}

/* icone "software" in sidebar (senza cambiare HTML) */
.archive-card[data-archive="hours"] .archive-card-title::before,
.archive-card[data-archive="requests"] .archive-card-title::before,
.archive-card[data-archive="products"] .archive-card-title::before{
  content:"";
  display:inline-block;
  width:18px;height:18px;
  margin-right:8px;
  vertical-align:-3px;
  opacity:.95;
  background: currentColor;
  -webkit-mask: var(--m) no-repeat center / contain;
  mask: var(--m) no-repeat center / contain;
}
.archive-card[data-archive="hours"] .archive-card-title{ --m: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='black' d='M12 2a10 10 0 1 0 0 20a10 10 0 0 0 0-20Zm1 5v5.382l3.447 1.724-.894 1.788L11 13.618V7h2Z'/%3E%3C/svg%3E");}
.archive-card[data-archive="requests"] .archive-card-title{ --m: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='black' d='M7 2h8l4 4v16a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2Zm7 1.5V7h3.5L14 3.5ZM8 11h8v2H8v-2Zm0 4h8v2H8v-2Z'/%3E%3C/svg%3E");}
.archive-card[data-archive="products"] .archive-card-title{ --m: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='black' d='M12 2 3 6.5V17.5L12 22l9-4.5V6.5L12 2Zm0 2.2 6.8 3.4L12 11 5.2 7.6 12 4.2ZM5 9.3l6 3v7.4l-6-3V9.3Zm14 0v7.4l-6 3v-7.4l6-3Z'/%3E%3C/svg%3E");}

/* toolbar più ordinata */
.archive-actions{gap:10px;}
.archive-toolbar{gap:10px;}

/* accordion più "app" */
.acc{
  border-color: rgba(255,255,255,.10);
  background: rgba(255,255,255,.02);
  transition: border-color .12s ease, background-color .12s ease, transform .12s ease;
}
.acc:hover{border-color: rgba(255,255,255,.16);}
.acc.open{background: rgba(255,255,255,.03);}
.acc-head{user-select:none;}
.acc-head:active{transform: scale(.995);}
.acc-chev{transition: transform .12s ease;}
.acc.open .acc-chev{transform: rotate(180deg);}
.chips{display:flex; gap:8px; flex-wrap:wrap;}
.chip{
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.04);
  color:var(--text);
  border-radius:999px;
  padding:8px 10px;
  font-size:12px;
  font-weight:700;
  cursor:pointer;
  min-height:40px;
}
.chip.active{border-color: rgba(110,168,254,.45); background: rgba(110,168,254,.14);}

/* Accordion */
.acc{
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.03);
  border-radius:16px;
  padding:12px;
  margin:10px 0;
}
.acc-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  cursor:pointer;
}
.acc-title{font-weight:800;}
.acc-meta{color:var(--muted); font-size:12px; margin-top:4px;}
.acc-body{display:none; margin-top:10px;}
.acc.open .acc-body{display:block;}
.acc-chev{opacity:.8; font-weight:900;}

/* Toast */
.toast{
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  top: 90px;
  z-index: 60;
  width: min(520px, calc(100% - 24px));
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(15, 26, 46, .92);
  backdrop-filter: blur(10px);
  box-shadow: 0 18px 60px rgba(0,0,0,.35);
  color: var(--text);
  font-weight: 700;
  display:none;
}
.toast.show{display:block;}
.toast.ok{border-color: rgba(36, 209, 143, 0.35);}
.toast.error{border-color: rgba(255, 107, 107, 0.35);}

/* ============================= */
/* ARCHIVIO - filtri compatti + "più opzioni" */
/* ============================= */
.archive-stats-inline{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
  margin-top: 10px;
}
.statPill{
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  border-radius: 14px;
  padding: 10px;
}
.statPill .statValue{font-weight:900;}

.archive-more{
  margin-top: 10px;
}

/* Mese apri/chiudi (Archivio > Ore) */
.month-toggle{
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 16px;
  background: rgba(255,255,255,.02);
  padding: 10px 12px;
}
.month-toggle > summary{
  cursor: pointer;
  list-style: none;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  user-select:none;
}
.month-toggle > summary::-webkit-details-marker{display:none;}
.month-toggle[open]{background: rgba(255,255,255,.03);}
@media (min-width: 900px){
  /* su PC lasciamo sempre aperto e nascondiamo il summary (più “software”) */
  .month-toggle > summary{display:none;}
  .month-toggle{padding: 0; border:0; background: transparent;}
  .month-toggle > div{margin-top:0 !important;}
}

/* Bloccone filtri (mobile) apri/chiudi */
.archive-filters-toggle{
  border: 0;
  padding: 0;
}
.archive-filters-toggle > summary{
  cursor:pointer;
  list-style:none;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  user-select:none;
  font-weight:900;
  padding: 14px 14px;
  min-height: 56px;
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 16px;
  background: rgba(255,255,255,.02);
}
.archive-filters-toggle > summary::-webkit-details-marker{display:none;}
.archive-filters-toggle[open] > summary{
  background: rgba(255,255,255,.03);
  border-color: rgba(255,255,255,.12);
}
.archive-filters-body{margin-top:10px;}

/* Desktop: sempre aperto e senza summary (come software) */
@media (min-width: 900px){
  .archive-filters-toggle > summary{display:none;}
  .archive-filters-toggle{border:0;padding:0;}
  .archive-filters-body{margin-top:0;}
}

/* Mobile: riduci la "profondità" dei filtri e rendili limpidi */
@media (max-width: 520px){
  .archive-main .filters.card{padding: 16px;}
  .archive-stats-inline{grid-template-columns: 1fr 1fr; gap:8px; margin-top: 8px;}
  .statPill{padding: 10px; border-radius: 14px;}
  .statPill .statValue{font-size: 15px;}
  .archive-actions{margin-top: 8px;}
  .archive-toolbar{margin-top: 8px; gap:8px;}
}

/* ============================= */
/* HOME cards */
/* ============================= */
.home-grid{
  display:grid;
  gap:12px;
  grid-template-columns: repeat(2, 1fr);
}

.home-card{
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.03);
  color:var(--text);
  border-radius:18px;
  padding:14px;
  cursor:pointer;
  text-align:left;
  min-height: 140px;
  width: 100%;
}
.home-card:hover{filter:brightness(1.05);}
.home-card:active{transform: scale(.99);}
.home-card-mock{
  border-radius: 14px;
  background: rgba(255,255,255,.02);
}
.home-card-head{margin-bottom:10px;}
.home-card-title{font-weight:900; font-size:16px;}
.home-card-line{
  height:1px;
  width: 100%;
  background: rgba(255,255,255,.10);
  margin-top:8px;
}
.home-card-body{
  display:grid;
  grid-template-columns: 56px 1fr;
  gap:12px;
  align-items:center;
  min-height: 72px;
}
.home-icon{
  width:56px;height:56px;
  border:1px solid rgba(255,255,255,.12);
  border-radius:14px;
  display:grid;
  place-items:center;
  background: rgba(255,255,255,.03);
  color: rgba(232,238,252,.95);
}
.home-icon svg{width:28px;height:28px;}
.home-metrics{display:grid; gap:6px;}
.home-metric{font-size:13px; line-height:1.2;}
.home-metric strong{font-size:18px; margin-right:6px;}
.home-card-cta{
  margin-top:12px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.03);
  border-radius:12px;
  padding:10px 12px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  font-weight:800;
}
.chev{opacity:.9;}

@media (max-width: 380px){
  .home-grid{grid-template-columns: 1fr;}
  .home-card-body{grid-template-columns: 48px 1fr;}
  .home-icon{width:48px;height:48px;border-radius:12px;}
  .home-icon svg{width:24px;height:24px;}
}

@media (min-width: 520px){
  .home-grid{grid-template-columns: repeat(2, 1fr);}
}

/* ============================= */
/* FIX SELECT / OPTION (dark UI) */
/* ============================= */

select.input{
  background-color: #0f1a2e;      /* sfondo solido */
  color: #e8eefc;
  border: 1px solid rgba(255,255,255,.15);
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
}

/* Dropdown aperto */
select.input option{
  background-color: #0f1a2e;      /* FONDAMENTALE */
  color: #e8eefc;
}

/* Hover / selezione */
select.input option:hover,
select.input option:checked{
  background-color: #1a2f55;
  color: #ffffff;
}

/* Focus */
select.input:focus{
  outline: none;
  border-color: rgba(110,168,254,.6);
  box-shadow: 0 0 0 4px rgba(110,168,254,.15);
}

select.input{
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23e8eefc' viewBox='0 0 24 24'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 18px;
  padding-right: 38px;
}

/* ===================================================== */
/* ADMIN - LOOK "GESTIONALE" (solo dashboard amministratore) */
/* ===================================================== */
body.page-admin{
  /* “Dashboard pro” palette (solo admin) */
  --admin-panel: rgba(17, 26, 46, 0.72);
  --admin-panel2: rgba(17, 26, 46, 0.44);
  --admin-stroke: rgba(255,255,255,.10);
  --admin-stroke2: rgba(255,255,255,.14);
  --admin-shadow: 0 26px 85px rgba(0,0,0,.50);
  --admin-shadow-soft: 0 18px 60px rgba(0,0,0,.28);
  --admin-focus: 0 0 0 4px rgba(110,168,254,.16);
  --admin-radius: 22px;

  background:
    radial-gradient(1200px 650px at 18% 10%, rgba(79, 124, 255, 0.22), transparent 60%),
    radial-gradient(900px 520px at 92% 85%, rgba(255, 176, 32, 0.12), transparent 62%),
    var(--bg);
}

body.page-admin .topbar{
  border-bottom: 1px solid var(--admin-stroke);
  background: rgba(10, 18, 34, 0.80);
  backdrop-filter: blur(12px);
  padding: 14px 18px;
}
body.page-admin .topbar h2{
  font-size: 14px;
  letter-spacing: .2px;
}
body.page-admin .topbar-sub{
  margin-top: 2px;
  font-size: 12px;
  color: rgba(232,238,252,.68);
}
body.page-admin .topbar-actions .btn.small{
  border-radius: 12px;
  background: rgba(255,255,255,.04);
}
body.page-admin .topbar-actions .btn.small:hover{background: rgba(255,255,255,.06);}

/* layout "finestra" */
body.page-admin .admin-layout{
  width: min(1440px, calc(100% - 28px));
  margin: 14px auto 22px;
  gap: 14px;
  padding: 0;
  grid-template-columns: 260px 1fr;
  align-items: start;
}

/* sidebar */
body.page-admin .sidebar{
  position: sticky;
  top: 78px;
  z-index: 10;
  border-radius: var(--admin-radius);
  padding: 12px;
  border: 1px solid var(--admin-stroke);
  background: linear-gradient(180deg, var(--admin-panel), var(--admin-panel2));
  box-shadow: var(--admin-shadow-soft);
  display:flex;
  flex-direction:column;
  gap:10px;
}
body.page-admin .sidebar-title{
  font-size: 12px;
  font-weight: 900;
  color: rgba(232,238,252,.75);
  letter-spacing: .25px;
  padding: 8px 10px 10px;
}
body.page-admin .nav-btn{
  width: 100%;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.11);
  background: rgba(255,255,255,.025);
  color: rgba(232,238,252,.82);
  padding: 11px 12px;
  transition: transform .12s ease, background-color .12s ease, border-color .12s ease, filter .12s ease;
  position: relative;
  display:flex;
  align-items:center;
  gap:10px;
}
/* iconcina (CSS-only) */
body.page-admin .nav-btn::after{
  content:"";
  width:18px;height:18px;
  opacity:.92;
  background: currentColor;
  -webkit-mask: var(--m) no-repeat center / contain;
  mask: var(--m) no-repeat center / contain;
  margin-left:auto;
}
body.page-admin .nav-btn[data-view="hours"]{ --m: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='black' d='M12 2a10 10 0 1 0 0 20a10 10 0 0 0 0-20Zm1 5v5.382l3.447 1.724-.894 1.788L11 13.618V7h2Z'/%3E%3C/svg%3E"); }
body.page-admin .nav-btn[data-view="requests"]{ --m: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='black' d='M7 2h8l4 4v16a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2Zm7 1.5V7h3.5L14 3.5ZM8 11h8v2H8v-2Zm0 4h8v2H8v-2Z'/%3E%3C/svg%3E"); }
body.page-admin .nav-btn[data-view="products"]{ --m: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='black' d='M12 2 3 6.5V17.5L12 22l9-4.5V6.5L12 2Zm0 2.2 6.8 3.4L12 11 5.2 7.6 12 4.2ZM5 9.3l6 3v7.4l-6-3V9.3Zm14 0v7.4l-6 3v-7.4l6-3Z'/%3E%3C/svg%3E"); }

body.page-admin .nav-btn:hover{
  filter: brightness(1.06);
  background: rgba(255,255,255,.045);
}
body.page-admin .nav-btn:active{transform: scale(.99);}
body.page-admin .nav-btn.active{
  background: rgba(110,168,254,.14);
  border-color: rgba(110,168,254,.40);
}
body.page-admin .nav-btn.active::before{
  content:"";
  position:absolute;
  left:10px;
  top:10px;
  bottom:10px;
  width:4px;
  border-radius: 999px;
  background: linear-gradient(180deg, rgba(110,168,254,.95), rgba(139,198,255,.75));
}
body.page-admin .nav-btn.active{
  padding-left: 22px;
}
body.page-admin .nav-btn:focus-visible{
  outline: none;
  box-shadow: var(--admin-focus);
  border-color: rgba(110,168,254,.55);
}

/* Dipendenti dentro sidebar (più pulito) */
body.page-admin .sidebar .admin-employees-bar{
  margin: 10px 0 0;
  padding: 10px;
  border-radius: 18px;
  background: rgba(17, 26, 46, 0.50);
}
body.page-admin .sidebar .admin-employees-bar-head{
  display:grid;
  grid-template-columns: 1fr;
  gap:10px;
  align-items: start;
}
body.page-admin .sidebar #adminEmployeesChips{
  max-height: 34vh;
  overflow:auto;
}
body.page-admin .sidebar #adminEmployeesSearch{
  font-size: 13px;
}

/* content: vero "pannello" gestionale */
body.page-admin .content{
  border-radius: var(--admin-radius);
  border: 1px solid var(--admin-stroke);
  background: linear-gradient(180deg, rgba(255,255,255,.035), rgba(255,255,255,.012));
  box-shadow: var(--admin-shadow);
  overflow: hidden;
  padding: 0;
}

/* Quando la scheda dipendente è aperta: blocca lo scroll della pagina sotto */
body.page-admin.modal-open{
  overflow: hidden;
}

/* In Prodotti: non mostrare la lista dipendenti a sinistra */
body.page-admin.products-mode #adminEmployeesBar{
  display:none;
}
body.page-admin .content > .view{
  padding: 16px;
}
body.page-admin .content h3{
  margin: 0 0 12px;
  font-size: 15px;
  font-weight: 900;
  letter-spacing: .2px;
}

/* Head delle viste (titolo + indietro) */
body.page-admin .view-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
}
body.page-admin .view-head h3{
  margin: 0;
}

/* filtri in alto: più compatti e ordinati */
body.page-admin .filters.card{
  border-radius: 18px;
  background: rgba(17, 26, 46, 0.68);
  border-color: var(--admin-stroke);
  box-shadow: 0 16px 55px rgba(0,0,0,.18);
}
body.page-admin .filters.card .label{
  font-size: 12px;
  margin: 8px 0 4px;
}
body.page-admin .filters.card .input{
  border-radius: 12px;
  padding: 10px 12px;
}
body.page-admin .filters.card .btn.small{
  border-radius: 12px;
  min-height: 40px;
}
/* su desktop: filtri più “toolbar” */
@media (min-width: 980px){
  body.page-admin .filters.card{
    display: grid;
    grid-template-columns: 280px 1fr auto;
    align-items: end;
    gap: 12px 14px;
  }
  body.page-admin #adminExportXlsxBtn{
    justify-self: end;
  }
}

/* Filtri richiudibili (riduce “macchinosità”) */
body.page-admin .admin-filters-toggle{
  border:0;
  padding:0;
  margin: 0 0 12px;
}
body.page-admin .admin-filters-toggle > summary{
  list-style:none;
  cursor:pointer;
  user-select:none;
  padding: 10px 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(17, 26, 46, 0.40);
  font-weight: 900;
  color: rgba(232,238,252,.88);
}
body.page-admin .admin-filters-toggle > summary::-webkit-details-marker{display:none;}
body.page-admin .admin-filters-toggle > summary::after{
  content:"▾";
  float:right;
  opacity:.75;
}
body.page-admin .admin-filters-toggle[open] > summary::after{
  transform: rotate(180deg);
  display:inline-block;
}
body.page-admin .admin-filters-toggle[open] > summary{
  border-color: rgba(255,255,255,.14);
  background: rgba(17, 26, 46, 0.50);
}

/* liste: effetto "tabella moderna" senza cambiare HTML/JS */
body.page-admin .dayCard{
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.028);
  border-radius: 18px;
  padding: 12px;
  margin: 12px 0;
  transition: border-color .12s ease, background-color .12s ease, transform .12s ease;
}
body.page-admin .dayCard:hover{
  border-color: rgba(255,255,255,.14);
  background: rgba(255,255,255,.032);
}
body.page-admin .dayHeader{
  padding-bottom: 10px;
  border-bottom: 1px solid rgba(255,255,255,.08);
}
body.page-admin .rows{margin-top: 10px;}
body.page-admin .rowItem{
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 16px;
  background: rgba(17, 26, 46, 0.45);
  padding: 12px;
  display: grid;
  gap: 6px;
}
body.page-admin .rowItem + .rowItem{margin-top: 10px;}
body.page-admin .rowItem strong{font-weight: 900;}
body.page-admin ul{margin-top: 10px;}

/* pills più "gestionali" */
body.page-admin .pill{
  border-color: rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  font-weight: 900;
}
body.page-admin .pill.ok{
  border-color: rgba(36, 209, 143, 0.35);
  background: rgba(36, 209, 143, 0.12);
}

/* bottoni azione (pro): evidenzia approva/rifiuta/salva */
body.page-admin [data-req-action="approve"],
body.page-admin [data-po-delivery-save]{
  border-color: rgba(110,168,254,.45);
  background: rgba(110,168,254,.14);
}
body.page-admin [data-req-action="reject"]{
  border-color: rgba(255,107,107,.35) !important;
  background: rgba(255,107,107,.10);
}

/* Richieste: gruppo azioni (Approva / Rifiuta) - evita taglio e mantiene spazio tra i bottoni */
body.page-admin .req-actions{
  display: inline-flex;
  flex-wrap: wrap;
  gap: 8px;
  justify-content: flex-end;
}
body.page-admin [data-po-delivery-today]{
  border-color: rgba(255,255,255,.14);
  background: rgba(255,255,255,.04);
}
body.page-admin .btn:focus-visible{
  outline:none;
  box-shadow: var(--admin-focus);
}

/* Tools (Ore): apri/chiudi tutti */
body.page-admin .admin-hours-tools{
  display:flex;
  gap:10px;
  justify-content:flex-end;
  margin: 10px 0 0;
}

/* In Prodotti non usiamo più "card per dipendente", quindi apri/chiudi tutti non serve */
body.page-admin #view-products .admin-hours-tools{
  display:none;
}

/* ===================================================== */
/* ADMIN - TABELLE (DESKTOP) */
/* ===================================================== */
@media (min-width: 980px){
  /* ---------- ORE: tabella vera ---------- */
  body.page-admin .admin-table-head{
    position: sticky;
    top: 78px; /* sotto topbar */
    z-index: 20;
    display: grid;
    grid-template-columns: 1.35fr 1.2fr 120px;
    gap: 12px;
    align-items: center;
    padding: 10px 12px;
    border-radius: 14px;
    border: 1px solid var(--admin-stroke);
    background: rgba(17, 26, 46, 0.90);
    backdrop-filter: blur(10px);
    color: rgba(232,238,252,.85);
    font-size: 11px;
    font-weight: 900;
    letter-spacing: .2px;
    box-shadow: 0 14px 50px rgba(0,0,0,.22);
    margin: 12px 0;
  }

  body.page-admin .admin-table-head.requests{
    grid-template-columns: 1.15fr 1.35fr 180px;
  }
  body.page-admin .admin-table-head.products{
    grid-template-columns: 1.25fr 1.25fr 220px;
  }

  body.page-admin #view-hours #hoursList,
  body.page-admin #view-requests #requestsList,
  body.page-admin #view-products #productsList{
    display: grid;
    gap: 12px;
  }

  /* Nella scheda dipendente (soluzione B) la tabella deve essere "perfetta" e leggibile */
  body.page-admin #empHoursList{ display:block; }

  /* Sticky header dentro la scheda (scroll interno): top=0 */
  body.page-admin .modal.as-page .admin-table-head{
    top: 0;
    z-index: 6;
    margin: 0 0 12px;
  }

  /* Giorno come “gruppo” con righe tabellari */
  body.page-admin #view-hours .dayCard{
    padding: 0;
    overflow: hidden;
    border-radius: 18px;
  }
  body.page-admin #view-hours .dayHeader{
    padding: 10px 12px 8px;
    background: rgba(255,255,255,.02);
  }

  /* “fisarmonica” per dipendente (Ore) */
  body.page-admin #view-hours details.empCard{
    border-radius: 18px;
  }
  body.page-admin #view-hours details.empCard > summary.dayHeader{
    cursor: pointer;
    list-style: none;
    display: grid;
    grid-template-columns: 1.35fr 1.2fr 120px;
    gap: 12px;
    align-items: center;
    user-select: none;
    position: relative;
    padding-right: 42px; /* spazio per chevron */
  }
  body.page-admin #view-hours details.empCard > summary.dayHeader::-webkit-details-marker{display:none;}
  body.page-admin #view-hours details.empCard > summary.dayHeader::after{
    content:"▾";
    position:absolute;
    right: 14px;
    top: 50%;
    transform: translateY(-50%);
    opacity: .78;
    font-weight: 900;
  }
  body.page-admin #view-hours details.empCard[open] > summary.dayHeader::after{
    transform: translateY(-50%) rotate(180deg);
  }
  body.page-admin #view-hours details.empCard > summary.dayHeader:focus-visible{
    outline: none;
    box-shadow: var(--admin-focus);
  }
  body.page-admin #view-hours details.empCard > summary.dayHeader .muted{
    margin-top: 4px;
    font-size: 12px;
    color: rgba(232,238,252,.68);
  }
  body.page-admin #view-hours .rows{
    margin-top: 0;
    display: grid;
    gap: 0;
  }

  /* Riga tabella */
  body.page-admin #view-hours .rowItem{
    margin: 0;
    border: 0;
    border-radius: 0;
    border-top: 1px solid rgba(255,255,255,.08);
    background: rgba(17, 26, 46, 0.42);
    display: grid;
    grid-template-columns: 1.35fr 1.2fr 120px;
    gap: 10px;
    align-items: center;
    padding: 9px 12px;
    font-size: 13px;
    line-height: 1.25;
  }
  body.page-admin #view-hours .rowItem:nth-child(2n){
    background: rgba(17, 26, 46, 0.34);
  }
  body.page-admin #view-hours .rowItem:hover{
    background: rgba(255,255,255,.035);
  }

  /* colonne: (1) dipendente+orari, (2) luogo+attività, (3) netto */
  body.page-admin #view-hours .rowItem > div:nth-child(1){
    font-weight: 700;
  }
  body.page-admin #view-hours .rowItem > div:nth-child(2){
    color: rgba(232,238,252,.78);
  }
  body.page-admin #view-hours .rowItem > div:nth-child(3){
    text-align: right;
    font-weight: 900;
    color: rgba(139,198,255,.92);
    font-variant-numeric: tabular-nums;
    white-space: nowrap;
  }

  /* rendi “muted” più leggibile in tabella */
  body.page-admin #view-hours .rowItem .muted{
    margin: 0;
    font-size: 12px;
    color: rgba(232,238,252,.68);
  }

  /* Riga "gruppo data" dentro ogni dipendente (data unica) */
  body.page-admin #view-hours .rowItem.rowGroup{
    background: rgba(255,255,255,.03);
    border-top-color: rgba(255,255,255,.12);
    font-size: 12px;
    padding: 8px 12px;
  }
  /* Totale giorno: evidenzia le "Ore" in modo diverso dalle righe sotto */
  body.page-admin #view-hours .rowItem.rowGroup > div:nth-child(3){
    justify-self: end;
    width: fit-content;
    display: inline-flex;
    align-items: center;
    justify-content: flex-end;
    padding: 5px 10px;
    border-radius: 999px;
    border: 1px solid rgba(255, 176, 32, 0.35);
    background: rgba(255, 176, 32, 0.12);
    color: rgba(255, 176, 32, 0.95);
    font-variant-numeric: tabular-nums;
    white-space: nowrap;
  }

  /* --- Stesse regole tabellari anche per Ore nella scheda dipendente --- */
  /* Tabella unica: un solo wrapper con righe attaccate */
  body.page-admin #empHoursList .emp-hours-table{
    border: 1px solid rgba(255,255,255,.10);
    border-radius: 18px;
    overflow: hidden;
    background: rgba(255,255,255,.02);
  }
  body.page-admin #empHoursList .rows{
    margin-top: 0;
    display: grid;
    gap: 0;
  }
  body.page-admin #empHoursList .rowItem{
    margin: 0;
    border: 0;
    border-radius: 0;
    border-top: 1px solid rgba(255,255,255,.08);
    background: rgba(17, 26, 46, 0.42);
    display: grid;
    grid-template-columns: 1.35fr 1.2fr 120px;
    gap: 10px;
    align-items: center;
    padding: 9px 12px;
    font-size: 13px;
    line-height: 1.25;
  }
  body.page-admin #empHoursList .rowItem:nth-child(2n){
    background: rgba(17, 26, 46, 0.34);
  }
  body.page-admin #empHoursList .rowItem:hover{
    background: rgba(255,255,255,.035);
  }
  body.page-admin #empHoursList .rowItem > div:nth-child(1){
    font-weight: 700;
  }
  body.page-admin #empHoursList .rowItem > div:nth-child(2){
    color: rgba(232,238,252,.78);
  }
  body.page-admin #empHoursList .rowItem > div:nth-child(3){
    text-align: right;
    font-weight: 900;
    color: rgba(139,198,255,.92);
    font-variant-numeric: tabular-nums;
    white-space: nowrap;
  }
  body.page-admin #empHoursList .rowItem .muted{
    margin: 0;
    font-size: 12px;
    color: rgba(232,238,252,.68);
  }
  body.page-admin #empHoursList .rowItem.rowGroup{
    background: rgba(255,255,255,.03);
    border-top-color: rgba(255,255,255,.12);
    font-size: 12px;
    padding: 8px 12px;
  }
  /* Stessa evidenza anche nella scheda dipendente (tab Ore) */
  body.page-admin #empHoursList .rowItem.rowGroup > div:nth-child(3){
    justify-self: end;
    width: fit-content;
    display: inline-flex;
    align-items: center;
    justify-content: flex-end;
    padding: 5px 10px;
    border-radius: 999px;
    border: 1px solid rgba(255, 176, 32, 0.35);
    background: rgba(255, 176, 32, 0.12);
    color: rgba(255, 176, 32, 0.95);
    font-variant-numeric: tabular-nums;
    white-space: nowrap;
  }

  /* --- Stessa tabella "continua" anche per Richieste nella scheda dipendente --- */
  body.page-admin #empRequestsList{ display:block; }
  body.page-admin #empRequestsList .emp-req-table{
    border: 1px solid rgba(255,255,255,.10);
    border-radius: 18px;
    overflow: hidden;
    background: rgba(255,255,255,.02);
  }
  body.page-admin #empRequestsList .rows{
    margin-top: 0;
    display: grid;
    gap: 0;
  }
  body.page-admin #empRequestsList .rowItem{
    margin: 0;
    border: 0;
    border-radius: 0;
    border-top: 1px solid rgba(255,255,255,.08);
    background: rgba(17, 26, 46, 0.40);
    display:grid;
    grid-template-columns: 1.15fr 1.35fr 180px;
    gap: 10px;
    align-items: center;
    padding: 9px 12px;
    font-size: 13px;
    line-height: 1.25;
  }
  body.page-admin #empRequestsList .rowItem:nth-child(2n){
    background: rgba(17, 26, 46, 0.34);
  }
  body.page-admin #empRequestsList .rowItem:hover{
    background: rgba(255,255,255,.035);
  }
  body.page-admin #empRequestsList .rowItem > div:nth-child(3){
    text-align: right;
    white-space: normal; /* evita taglio: consenti wrap */
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-end;
    align-items: center;
    gap: 8px;
  }
  body.page-admin #empRequestsList .rowItem.rowGroup{
    background: rgba(255,255,255,.03);
    border-top-color: rgba(255,255,255,.12);
    font-size: 12px;
    padding: 8px 12px;
  }

  /* ---------- RICHIESTE / PRODOTTI: vista più compatta ---------- */
  body.page-admin #view-requests .dayCard,
  body.page-admin #view-products .dayCard{
    padding: 0;
    overflow: hidden;
    border-radius: 18px;
  }
  body.page-admin #view-requests .dayHeader,
  body.page-admin #view-products .dayHeader{
    padding: 12px 12px 10px;
  }
  body.page-admin #view-requests .rows,
  body.page-admin #view-products .rows{
    margin-top: 0;
  }
  body.page-admin #view-requests .rowItem,
  body.page-admin #view-products .rowItem{
    border: 0;
    border-top: 1px solid rgba(255,255,255,.08);
    border-radius: 0;
    background: rgba(17, 26, 46, 0.40);
  }

  /* Richieste: colonne tabella */
  body.page-admin #view-requests .rowItem{
    display:grid;
    grid-template-columns: 1.15fr 1.35fr 180px;
    gap: 10px;
    align-items: center;
    padding: 9px 12px;
    font-size: 13px;
    line-height: 1.25;
  }
  body.page-admin #view-requests .rowItem > div:nth-child(3){
    text-align: right;
    white-space: normal; /* evita taglio: consenti wrap */
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-end;
    align-items: center;
    gap: 8px;
  }
  body.page-admin #view-requests .rowItem.rowGroup{
    background: rgba(255,255,255,.03);
    border-top-color: rgba(255,255,255,.12);
    font-size: 12px;
    padding: 8px 12px;
  }

  /* Prodotti: colonne tabella */
  body.page-admin #view-products .rowItem{
    display:grid;
    grid-template-columns: 1.25fr 1.25fr 220px;
    gap: 10px;
    align-items: center;
    padding: 9px 12px;
    font-size: 13px;
    line-height: 1.25;
  }
  body.page-admin #view-products .rowItem > div:nth-child(3){
    text-align: right;
  }
  body.page-admin #view-products .rowItem.rowGroup{
    background: rgba(255,255,255,.03);
    border-top-color: rgba(255,255,255,.12);
    font-size: 12px;
    padding: 8px 12px;
  }

  /* Fisarmonica (requests/products): usa <details>/<summary> come per Ore */
  body.page-admin #view-requests details.empCard > summary.dayHeader,
  body.page-admin #view-products details.empCard > summary.dayHeader{
    cursor:pointer;
    list-style:none;
    user-select:none;
    position:relative;
    padding-right: 42px;
  }
  body.page-admin #view-requests details.empCard > summary.dayHeader::-webkit-details-marker,
  body.page-admin #view-products details.empCard > summary.dayHeader::-webkit-details-marker{display:none;}
  body.page-admin #view-requests details.empCard > summary.dayHeader::after,
  body.page-admin #view-products details.empCard > summary.dayHeader::after{
    content:"▾";
    position:absolute;
    right: 14px;
    top: 50%;
    transform: translateY(-50%);
    opacity: .78;
    font-weight: 900;
  }
  body.page-admin #view-requests details.empCard[open] > summary.dayHeader::after,
  body.page-admin #view-products details.empCard[open] > summary.dayHeader::after{
    transform: translateY(-50%) rotate(180deg);
  }
  body.page-admin #view-requests details.empCard > summary.dayHeader:focus-visible,
  body.page-admin #view-products details.empCard > summary.dayHeader:focus-visible{
    outline:none;
    box-shadow: var(--admin-focus);
  }
}

/* responsive */
@media (max-width: 980px){
  body.page-admin .admin-table-head{display:none;}
  body.page-admin .admin-layout{
    grid-template-columns: 1fr;
  }
  body.page-admin .sidebar{
    position: static;
    top: auto;
  }
}

/* ===================================================== */
/* ADMIN - DIPENDENTI + MODALE "SCHEDA DIPENDENTE" */
/* ===================================================== */
body.page-admin .admin-employees-bar{
  margin: 16px 16px 0;
}
body.page-admin .content > .admin-employees-bar{
  margin: 16px;
}
body.page-admin .admin-employees-bar-head{
  display:flex;
  gap:14px;
  align-items:end;
  justify-content:space-between;
  flex-wrap:wrap;
}
body.page-admin #adminEmployeesChips{
  margin-top: 10px;
  max-height: 140px;
  overflow: auto;
  padding-right: 4px;
}

/* Modale */
.modal{
  position: fixed;
  inset: 0;
  z-index: 80;
  display: none;
}
.modal.open{ display:block; }
.modal-backdrop{
  position:absolute;
  inset:0;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(6px);
}
.modal-card{
  position: relative;
  width: min(1100px, calc(100% - 24px));
  max-height: calc(100vh - 24px);
  overflow: auto;
  margin: 12px auto;
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(10,18,34,.92);
  box-shadow: 0 26px 85px rgba(0,0,0,.55);
  padding: 14px;
}
.modal-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
.emp-tab{ display:none; }
.emp-tab.active{ display:block; }

/* Modale usata come "pagina" (soluzione B): niente overlay, pannello grande */
.modal.as-page{
  inset: 78px 14px 14px 14px; /* sotto la topbar */
}
.modal.as-page .modal-backdrop{
  display:none;
}
.modal.as-page .modal-card{
  width: 100%;
  max-height: 100%;
  margin: 0;
  border-radius: 22px;
  background: rgba(10,18,34,.92);
}

/* Blocca lo scroll quando un modale è aperto */
body.modal-open{
  overflow: hidden;
}

@media (max-width: 980px){
  /* Su smartphone/tablet: la scheda dipendente diventa un vero full-screen overlay,
     così non si intravede la pagina sotto. */
  .modal.as-page{
    inset: 0;
  }
  .modal.as-page .modal-backdrop{
    display:block;
    background: rgba(0,0,0,.55);
    backdrop-filter: blur(8px);
  }
  .modal.as-page .modal-card{
    width: 100%;
    max-height: 100vh;
    margin: 0;
    border-radius: 0;
    background: rgba(10,18,34,.98);
  }
}
